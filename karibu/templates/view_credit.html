{% extends 'base.html' %}
{% block title %}View Credit Sale{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto mt-10 p-6 bg-white rounded-lg shadow">
    <h2 class="text-xl font-bold mb-6">Credit Sale Details</h2>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
        <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Customer Information</h3>
            <div class="space-y-2">
                <p><span class="font-medium">Name:</span> {{ credit.customer_name }}</p>
                <p><span class="font-medium">Contact:</span> {{ credit.contact }}</p>
                <p><span class="font-medium">National ID:</span> {{ credit.national_id }}</p>
            </div>
        </div>
        
        <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Product Information</h3>
            <div class="space-y-2">
                <p><span class="font-medium">Product:</span> {{ credit.product_name }}</p>
                <p><span class="font-medium">Type:</span> {{ credit.product_type }}</p>
            </div>
        </div>
        
        <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Financial Details</h3>
            <div class="space-y-2">
                <p><span class="font-medium">Amount Due:</span> UGx {{ credit.due_amount|floatformat:2 }}</p>
                <p><span class="font-medium">Due Date:</span> {{ credit.due_date|date:"M d, Y" }}</p>
                <p><span class="font-medium">Status:</span> 
                    <span class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                        {% if credit.status == 'Paid' %}bg-green-100 text-green-800
                        {% else %}bg-yellow-100 text-yellow-800{% endif %}">
                        {{ credit.status }}
                    </span>
                </p>
            </div>
        </div>
        
        <div>
            <h3 class="text-lg font-semibold text-gray-700 mb-2">Payment Information</h3>
            <div class="space-y-2">
                <p><span class="font-medium">Approved By:</span> {{ credit.approved_by }}</p>
                {% if credit.is_paid %}
                <p><span class="font-medium">Paid Date:</span> {{ credit.paid_date|date:"M d, Y" }}</p>
                {% endif %}
            </div>
        </div>
    </div>
    
    <div class="flex justify-end space-x-4">
        <a href="{% url 'manage_credits' %}" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded">
            Back to List
        </a>
        {% if user.is_manager%}
        <a href="{% url 'edit_credit' credit.id %}" class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded">
            Edit Credit
        </a>
        {% endif %}
    </div>
</div>
{% endblock %}